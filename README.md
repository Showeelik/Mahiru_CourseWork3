# HeadHunter API Data Processor

## Описание

Проект представляет собой инструмент для взаимодействия с API [HeadHunter](hh.ru). Он позволяет загружать и обрабатывать данные о работодателях и вакансиях, а также сохранять их в базе данных для дальнейшего анализа и использования.

## Возможности

- **Загрузка работодателей**: Загрузка данных о работодателях по заданным критериям, таким как название, область, количество вакансий и т.д.
- **Загрузка вакансий**: Загрузка данных о вакансиях, связанных с выбранными работодателями.
- **Сохранение данных**: Сохранение загруженных данных в базе данных PostgreSQL.
- **Поиск вакансий**: Поиск вакансий в базе данных по ключевым словам, с возможностью фильтрации по конкретному работодателю.
- **Сравнение вакансий**: Сравнение вакансий по различным критериям, таким как зарплата, опыт работы и т.д.

## Установка

### 1. Клонирование репозитория

```bash
git https://github.com/Showeelik/Mahiru_CourseWork3.git
cd Mahiru_CourseWork3
```

### 2. Установка зависимостей

Создайте виртуальное окружение и установите необходимые зависимости:

```bash
poetry env use python

poetry shell

poetry install
```

### 3. Настройка базы данных

Создайте базу данных PostgreSQL и настройте файл конфигурации [.env_template](.env_template):

```bash
DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_db_name
DB_USER=your_db_user
DB_PASSWORD=your_db_password
```
##### для работы переименуйте в `.env`:


## Использование

### Загрузка данных

1. **Загрузка работодателей**:

   Используйте метод `load_employers` для загрузки данных о работодателях:

   ```python
   api = HHAPI()
   employers = api.load_employers(query="IT компании", total_page=5, per_page=10)
   ```

2. **Загрузка вакансий**:

   Используйте метод `load_vacancies` для загрузки данных о вакансиях для определенных работодателей:

   ```python
   vacancies = api.load_vacancies(employer_id=employers[0]['id'], total_page=5, per_page=20)
   ```

### Поиск вакансий

Используйте метод `get_vacancies_with_keyword` для поиска вакансий в базе данных:

```python
db = DBManager()
vacancies = db.get_vacancies_with_keyword("Python", company_id=12345)
```

### Логи

Логи работы приложения сохраняются в файл `YYYY-MM-DD.log` в директории `logs`, где фиксируются все важные события и ошибки.

## Тестирование

Для запуска тестов используйте команду:

```bash
pytest
```

Для более детального тестирование используйте команду:
```bash
pytest --cov
```

## Автор

- **Ваше имя** - [Showeelik](https://github.com/Showeelik)